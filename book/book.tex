\documentclass[a4paper, 12pt, openany]{book}                                 %%
\usepackage{indentfirst}%%                                          %%
\usepackage{demopack}                                               %%
%\usepackage{a4wide} % analog of fullpage.sty                       %%
%\usepackage{a4}     % standard page margins                         %%
\usepackage{threeparttable}                                         %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{fancyheadings}                                          %%
\pagestyle{plain}                                              %%
%запоминает название главы:                                         %%
\renewcommand{\chaptermark}[1]{\markboth{\thechapter.\:#1}{}}       %%
%запоминает номер раздела и его название:                           %%
\renewcommand{\sectionmark}[1]{\markright{\thesection.\:#1}}        %%
\lhead[\fancyplain{}{\bfseries\leftmark}]%продолжение команды       %%
      {\fancyplain{}{}}                                             %%
\rhead[\fancyplain{}{}]%продолжение команды                         %%
      {\fancyplain{}{\bfseries\rightmark}}                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\lfoot[\fancyplain{}{\bfseries\thepage}]%продолжение команды        %%
      {\fancyplain{}{}}                                             %%
\rfoot[\fancyplain{}{}]%продолжение команды                         %%
      {\fancyplain{}{\bfseries\thepage}}                            %%
\cfoot{}                                                            %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{makeidx}     % allows index generation                  %%
\usepackage{graphicx}    % standard LaTeX graphics tool             %%
\usepackage{multicol}    % used for the two-column index            %%
\usepackage{epsfig}                                                 %%
\usepackage{amssymb}                                                %%
\usepackage{amsmath}                                                %%
\usepackage{mathrsfs}                                               %%
\usepackage{texdraw}                                                %%
\usepackage{rotating}                                               %%
\usepackage{amsfonts}                                               %%

\usepackage{moreverb}
\usepackage[T2A]{fontenc}                             %%
\usepackage[utf8]{inputenc}                         %%
\usepackage[russian]{babel}                           %%

% al-f %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\graphicspath{{images/}} % put your images here
\usepackage{epstopdf}
\usepackage{multirow}
\usepackage{array}
\usepackage{listings}
\usepackage{setspace}
\usepackage{enumitem}
%\onehalfspacing % полуторный интервал для всего текста
\linespread{1.15}\selectfont
\usepackage[a4paper,top=2.5cm,bottom=2.5cm,nohead,marginparwidth=0pt,hoffset=0cm,textwidth=16.0cm]{geometry} %поля
\oddsidemargin=0.0in %поля
\evensidemargin=0.0in %поля
\usepackage{lscape}
\usepackage{longtable}
\usepackage[bookmarks=true]{hyperref}
\usepackage{titlesec}
\usepackage{caption} % подписи к рисункам в русской типографской традиции
%\usepackage{flafter}
\usepackage{mathptmx}
\usepackage{cyrtimes} % fonts нужен пакет scalable-cyrfonts-tex
\newcommand{\mpart}[1]{\vspace{9pt}\textbf{#1}}
\setlist[itemize]{noitemsep, topsep=0pt} % отключение интервала между элементами списков \itemize
\setlist[enumerate]{noitemsep, topsep=0pt} % отключение интервала между элементами списков \enumerate
%\titleformat{\chapter}[display] % изменение формата заголовка главы
%{\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter}{10pt}{\Huge}   
%\titlespacing*{\chapter}{0pt}{-20pt}{20pt}
\let\oldthebibliography\thebibliography % отключение интервала между элементами списка библиографии
\renewcommand\thebibliography[1]{
	\oldthebibliography{#1}
	\setlength{\parskip}{0pt}
	\setlength{\itemsep}{0pt}
	}
\DeclareCaptionFormat{GOSTtable}{#2#1\\#3}
\DeclareCaptionLabelSeparator{fill}{\hfill}
\DeclareCaptionLabelFormat{fullparents}{\bothIfFirst{#1}{~}#2}
\captionsetup[table]{
	format=GOSTtable,
	labelformat=fullparents,
	labelsep=fill,
	textfont=bf,
	justification=centering,
	singlelinecheck=false
	}
\captionsetup[figure]{
	labelsep=period,
	justification=centering,
	singlelinecheck=false
	}
%Запрет висячих строк
\clubpenalty=10000
\widowpenalty=10000
\hyphenpenalty=5000
%\captionsetup{figurewithin=none} % Сквозная нумерация для рисунков
%\captionsetup{tablewithin=none} % Сквозная нумерация для таблиц
%\renewcommand\contentsname{Оглавление}
% кастомизация заголовков
\titleformat{\chapter}
	{\filcenter\bfseries\MakeUppercase}
	{\thechapter}
	{8pt}{}
\titleformat{\section}
    {\bfseries}
    {\thesection}
    {1em}{}
\titleformat{\subsection}
    {\bfseries\itshape}
    {\thesubsection}
    {1em}{} 
% настройка вертикальных и горизонтальных отступов
\titlespacing*{\chapter}{0pt}{-30pt}{8pt}
\titlespacing*{\section}{\parindent}{24pt}{*1}
\titlespacing*{\subsection}{\parindent}{*1}{*1}
% change indent size
\setlength\parindent{1.25cm}
% contents dots
%\usepackage{tocloft}
%\renewcommand{\cftchapleader}{\cftdotfill{\cftdotsep}}
%\renewcommand{\cfttoctitlefont}{\filcenter\bfseries\MakeUppercase}
% listing settings
\lstset{basicstyle=\normalsize\ttfamily,breaklines=true,columns=fullflexible}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\makeindex             % used for the subject index
                       % please use the style svind.ist with
                       % your makeindex program

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%begin=added by semoushin                                          ДОБАВИЛ СЕМУШИН %
\newcommand{\indexentry}[2]{\item #1 #2}%для генерации предметного указателя книги  %
%переопределили команду, чтобы писалось не Литература, а Список литературы          %
%как хочет сделать автор (Семушин И.В.)                                             %
%\renewcommand{\bibname}{Список литературы}                                          %
%                                                                                   %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%Ввели счетчик ОПРЕДЕЛЕНИЙ, чтобы ставился номер ОПРЕДЕЛЕНИЯ:         %%%%%
\newcounter{def}[chapter]                                          %%%%%
\renewcommand{\thedef}{\thechapter.\arabic{def}}                   %%%%%
\newcommand{\de}{\par\refstepcounter{def}%                         %%%%%
{\vspace{0.3cm}\noindent\textbf{Определение}\, %%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\bf\arabic{chapter}.\arabic{def}.\quad}}}%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}
\large
\renewcommand{\contentsname}{ОГЛАВЛЕНИЕ}
\renewcommand{\bibname}{БИБЛИОГРАФИЧЕСКИЙ СПИСОК}
\frontmatter%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%если вставите сюда \include{titlepage} и др., то здесь будет идти
%отдельная нумерация страниц римскими цифрами

\mainmatter%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\include{titlepage}%это команда вставить титульный лист (имя его файла titlepage.tex)
\include{specpage}%это команда вставить титульный лист (имя его файла titlepage.tex)
\tableofcontents%это команда вставить листы оглавления (его файл вам создавать не нужно)
%\include{dedic}%это команда вставить ToDo к книге (имя его файла todo.tex)
%\include{abbreviations}%это команда вставить список сокращений к книге (имя его файла abbreviations.tex)
\include{intro}%это команда вставить введение книги (имя его файла intro.tex)
\include{chapter1}%это команда вставить главу №1 книги (имя его файла chapter1.tex)
\include{chapter2}%это команда вставить главу №2 книги (имя его файла chapter2.tex)
\include{chapter3}%это команда вставить главу №3 книги (имя его файла chapter3.tex)
\include{chapter4}%это команда вставить главу №4 книги (имя его файла chapter4.tex)
\include{chapter5}%это команда вставить главу №5 книги (имя его файла chapter5.tex)
\include{chapter6}%это команда вставить главу №6 книги (имя его файла chapter6.tex)
\include{outro}%это команда вставить заключение книги (имя его файла outro.tex)
\include{referenc}%это команда вставить список литератеры к книге (имя его файла referenc.tex)
%\appendix %это команда о том, что дальше пойдет приложение к книге
%\include{appendix}%это команда вставить приложение к книге (имя его файла appendix.tex)
\backmatter%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\printindex%это команда вставить предметный указатель к книге

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\begin{theindex} %% Эти три команды добавил Семушин, чтобы печатался предметный указатель
%\input{book-index.tex} %% Эти три команды сейчас (временно) закрыты для исполения
%\end{theindex}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\include{outdata}%это команда вставить выходные данные книги (имя его файла outdata.tex)
\end{document}